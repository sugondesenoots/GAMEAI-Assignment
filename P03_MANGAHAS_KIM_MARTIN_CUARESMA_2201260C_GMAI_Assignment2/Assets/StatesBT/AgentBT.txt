tree("Root") 
    repeat
        fallback
            tree("Idle")
            tree("ShowShoplist")
            tree("ShowCart") 
            tree("RetrieveItems") 
            tree("ConfirmItems") 
            tree("FollowToCounter")  
            tree("Payment")  
            tree("PackingItems")  
            tree("CollectItems") 
            tree("Feedback")

tree("Idle")
    sequence
        IsIdleState
        IdleDialogue
        WaitForInteractClick
        SwitchToShoplist

tree("ShowShoplist")
    fallback
        sequence
            IsShoplistState 
            AddItemsToCart
            WaitForGoCartClick
            SwitchToCart
        sequence
            IsShoplistState 
            AddItemsToCart
            WaitForBackClick
            BackToIdle

tree("ShowCart")
    fallback
        sequence
            IsCartState
            WaitForRetrieveClick
            SwitchToRetrieve
        sequence
            IsCartState
            WaitForBackToShoplist
            BackToShoplist 
             
tree("RetrieveItems")
    fallback
        sequence
            IsRetrieveState
            RetrieveDialogue
            WalkToShelf
            WalkToPlayerAndConfirm
        sequence
            IsRetrieveState 
            RetrieveDialogue
            WaitForBackClickRS
            BackToCart
             
tree("ConfirmItems") 
    fallback 
        sequence  
            IsConfirmState  
            WaitForConfirmClick
            SwitchToFollow 
        sequence
            IsConfirmState  
            WaitForBackClickCS
            BackToRetrieve 
             
tree("FollowToCounter") 
    fallback 
        sequence 
            IsFollowState  
            FollowDialogue
            WaitForFollowClick  
            WalkToCounter
            SwitchToPayment 
             
tree("Payment") 
    fallback 
        sequence 
            IsPaymentState 
            PaymentDialogue 
            WaitForPayment
            SwitchToPacking 
             
tree("PackingItems") 
    fallback 
        sequence 
            IsPackingState 
            PackingDialogue 
            WaitForPlasticBagClick   
            WalkToPBagHolder 
            WalkBackToCounter
            SwitchToCollection 
        sequence 
            IsPackingState 
            PackingDialogue 
            WaitForOwnBagClick  
            WalkToOBagHolder 
            WalkBackToCounter
            SwitchToCollection 
             
tree("CollectItems") 
    fallback 
        sequence 
            IsCollectionState 
            CollectionDialogue  
            SpawnObjectOnCounter
            WaitForItemCollection
            SwitchToFeedback
             
tree("Feedback") 
    fallback 
        sequence 
            IsFeedbackState 
            FeedbackDialogue 
            GetFeedback 
            BackToBotStand
            SwitchToIdle